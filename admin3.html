<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£ (Admin Full)</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 30px; background-color: #f0f4f8; }
        .container { 
            background-color: white; 
            padding: 30px; 
            border-radius: 12px; 
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15); 
            max-width: 750px; /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 3 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏¢‡πà‡∏≠‡∏¢ */
            margin: auto; 
            display: flex; 
            gap: 20px; 
            flex-wrap: wrap;
        }
        .section { flex: 1; padding: 15px; border-radius: 8px; min-width: 200px; }
        
        .add-section { background-color: #e6f7ff; border: 2px solid #337ab7; }
        #new-queue-display { font-size: 2.5em; font-weight: bold; color: #ff8c00; margin: 15px 0; }
        #btn-add-queue { background-color: #337ab7; }

        .call-section { background-color: #e6ffed; border: 2px solid #5cb85c; }
        #current-queue-display { font-size: 2.5em; font-weight: bold; color: #5cb85c; margin: 15px 0; }
        #btn-call-next { background-color: #5cb85c; }
        
        .recall-section { background-color: #fff8e1; border: 2px solid #ffc107; }
        #txt-recall-queue { padding: 8px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px; width: 100%; box-sizing: border-box; text-align: center; font-size: 1.1em;}
        #btn-recall { background-color: #ffc107; color: #333;}

        #btn-reset { background-color: #d9534f; margin-top: 20px; width: 100%;} 

        button { color: white; border: none; padding: 10px 20px; font-size: 1.1em; border-radius: 6px; cursor: pointer; transition: background-color 0.3s; width: 100%; }
        button:hover { filter: brightness(1.1); }
        button:disabled { background-color: #ccc; cursor: not-allowed; }
        .message { margin-top: 15px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="section add-section">
            <h2>üì¢ ‡∏≠‡∏≠‡∏Å‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß</h2>
            <p>‡∏Ñ‡∏¥‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≠‡∏Å:</p>
            <div id="new-queue-display">A???</div>
            <button id="btn-add-queue">‡∏≠‡∏≠‡∏Å‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà</button>
            <p id="add-status-msg" class="message" style="color: #337ab7;"></p>
        </div>

        <div class="section call-section">
            <h2>üìû ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</h2>
            <p>‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•:</p>
            <div id="current-queue-display">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
            <button id="btn-call-next" disabled>‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
            <p id="call-status-msg" class="message" style="color: #5cb85c;"></p>
        </div>
        
        <div class="section recall-section">
            <h2>‚Ü©Ô∏è ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á</h2>
            <p>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ã‡πâ‡∏≥/‡∏¢‡πâ‡∏≠‡∏ô:</p>
            <input type="text" id="txt-recall-queue" placeholder="‡πÄ‡∏ä‡πà‡∏ô A008" maxlength="4">
            <button id="btn-recall">‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß‡∏ô‡∏µ‡πâ</button>
            <p id="recall-status-msg" class="message" style="color: #ffc107;"></p>
        </div>

        <div style="width: 100%; text-align: center;">
            <button id="btn-reset" style="background-color: #d9534f; margin-top: 20px;">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏¥‡∏ß‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</button>
            <p id="reset-status-msg" class="message" style="color: #d9534f;"></p>
        </div>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        // 1. üîë ‡πÇ‡∏Ñ‡πâ‡∏î Firebase Config ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üîë (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß)
        const firebaseConfig = {
  apiKey: "AIzaSyBAi2ecEr8QTaUWzKT44AveTu7XV3KIO_s",
  authDomain: "project03-ab11e.firebaseapp.com",
  projectId: "project03-ab11e",
  storageBucket: "project03-ab11e.firebasestorage.app",
  messagingSenderId: "1071525745286",
  appId: "1:1071525745286:web:bc2d221cc08cf606bc7707",
  measurementId: "G-B4BW2BYVGC"
};


        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const lastNumRef = db.ref('Counters/last_queue_number');
        const queuesListRef = db.ref('QueuesList');
        const currentQueueRef = db.ref('QueueStatus/current_queue');

        let currentCall = ""; 
        let isReady = false;

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ---
        function formatQueueId(number) {
            return "A" + number.toString().padStart(3, '0');
        }
        function getMessageElement(type) {
            if (type === 'add') return document.getElementById('add-status-msg');
            if (type === 'call') return document.getElementById('call-status-msg');
            if (type === 'reset') return document.getElementById('reset-status-msg');
            if (type === 'recall') return document.getElementById('recall-status-msg');
        }

        // --- 1. ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà (Add Queue) ---

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏¥‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏≠‡∏≠‡∏Å
        lastNumRef.on('value', (snapshot) => {
            const lastNum = snapshot.val() || 0;
            const nextId = formatQueueId(lastNum + 1);
            document.getElementById('new-queue-display').innerText = nextId;
        });

        document.getElementById('btn-add-queue').addEventListener('click', () => {
            document.getElementById('btn-add-queue').disabled = true;
            getMessageElement('add').innerText = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£...';

            lastNumRef.transaction((currentNumber) => {
                // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ (null) ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà 1
                return (currentNumber || 0) + 1;
            }).then(({ committed, snapshot }) => {
                if (committed) {
                    const newNumber = snapshot.val();
                    const newQueueId = formatQueueId(newNumber);
                    
                    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô QueuesList ‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ "Waiting"
                    queuesListRef.child(newQueueId).set("Waiting")
                        .then(() => {
                            getMessageElement('add').innerText = `‡∏≠‡∏≠‡∏Å‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß ${newQueueId} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!`;
                        });
                    
                    // ‡∏´‡∏≤‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏≠‡∏¢‡∏π‡πà ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å
                    currentQueueRef.once('value').then(currentSnap => {
                        if (!currentSnap.exists() || currentSnap.val() === "A000" || currentSnap.val() === "---") {
                             currentQueueRef.set(newQueueId);
                        }
                    });

                }
                document.getElementById('btn-add-queue').disabled = false;
            });
        });

        // --- 2. ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß (Call Next) ---
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ Admin ‡πÄ‡∏´‡πá‡∏ô)
        currentQueueRef.on('value', (snapshot) => {
            currentCall = snapshot.val() || "---";
            document.getElementById('current-queue-display').innerText = currentCall;
            document.getElementById('btn-call-next').disabled = false;
            isReady = true;
            getMessageElement('call').innerText = '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
        });

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏≤‡∏Ñ‡∏¥‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ó‡∏µ‡πà "Waiting" ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (QueuesList)
        function findNextQueue(queuesList) {
            let nextQueueId = null;

            // ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á key (A001, A002, ...)
            for (const key in queuesList) {
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Waiting ‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏¥‡∏ß‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
                if (queuesList[key] === "Waiting" && key > currentCall) { 
                    nextQueueId = key;
                    break; // ‡∏û‡∏ö‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏õ
                }
            }
            return nextQueueId;
        }

        // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Call Next
        document.getElementById('btn-call-next').addEventListener('click', () => {
            if (!isReady) return;
            document.getElementById('btn-call-next').disabled = true;
            getMessageElement('call').innerText = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...';

            queuesListRef.once('value').then(listSnapshot => {
                const queuesList = listSnapshot.val();
                const nextQueue = findNextQueue(queuesList);

                if (nextQueue) {
                    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏î‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏Ç‡πâ‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô Waiting)
                    if (currentCall !== "A000" && currentCall !== "---" && queuesList[currentCall] === "Waiting") {
                         db.ref('QueuesList/' + currentCall).set("Done");
                    }
                    
                    currentQueueRef.set(nextQueue)
                        .then(() => {
                            getMessageElement('call').innerText = `‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß ${nextQueue} ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`;
                        });
                } else {
                    currentQueueRef.set("---");
                    getMessageElement('call').innerText = '‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß';
                }
                 document.getElementById('btn-call-next').disabled = false;
            }).catch(error => {
                getMessageElement('call').innerText = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message;
                document.getElementById('btn-call-next').disabled = false;
            });
        });

        // --- 3. ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á (Recall/Jump Back) ---

        document.getElementById('btn-recall').addEventListener('click', () => {
            const inputElement = document.getElementById('txt-recall-queue');
            let recallId = inputElement.value.toUpperCase().trim();
            inputElement.disabled = true;
            document.getElementById('btn-recall').disabled = true;
            getMessageElement('recall').innerText = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...';
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏¥‡∏ß A001 - A999
            if (!/^A\d{3}$/.test(recallId)) {
                getMessageElement('recall').innerText = '‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏¥‡∏ß‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô A ‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢ 3 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)';
                inputElement.disabled = false;
                document.getElementById('btn-recall').disabled = false;
                return;
            }

            queuesListRef.child(recallId).once('value').then(snapshot => {
                if (snapshot.exists()) {
                    // ‡∏Ñ‡∏¥‡∏ß‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ current_queue ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏¥‡∏ß‡∏ô‡∏µ‡πâ
                    currentQueueRef.set(recallId)
                        .then(() => {
                            // ‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ã‡πâ‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô Waiting (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô Done ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß)
                            queuesListRef.child(recallId).set("Waiting"); 
                            getMessageElement('recall').innerText = `‚úÖ ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏¥‡∏ß ${recallId} ‡∏ã‡πâ‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`;
                        });
                } else {
                    getMessageElement('recall').innerText = `‡∏Ñ‡∏¥‡∏ß ${recallId} ‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô`;
                }
                
                inputElement.disabled = false;
                document.getElementById('btn-recall').disabled = false;
            }).catch(error => {
                getMessageElement('recall').innerText = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message;
                inputElement.disabled = false;
                document.getElementById('btn-recall').disabled = false;
            });
        });

        // --- 4. ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏¥‡∏ß (Reset) ---

        document.getElementById('btn-reset').addEventListener('click', () => {
            if (!confirm("‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î? ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ!")) {
                return;
            }

            document.getElementById('btn-reset').disabled = true;
            getMessageElement('reset').innerText = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...';
            
            // 1. ‡∏ï‡∏±‡πâ‡∏á Counter ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà 0
            lastNumRef.set(0)
            
            // 2. ‡∏ï‡∏±‡πâ‡∏á current_queue ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà A000
            .then(() => currentQueueRef.set("A000"))
            
            // 3. ‡∏•‡∏ö QueuesList ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô A000: "Done" ‡πÉ‡∏´‡∏°‡πà
            .then(() => queuesListRef.set({ "A000": "Done" }))
            
            .then(() => {
                getMessageElement('reset').innerText = '‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏¥‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà';
                document.getElementById('btn-reset').disabled = false;
            })
            .catch((error) => {
                getMessageElement('reset').innerText = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï: ' + error.message;
                document.getElementById('btn-reset').disabled = false;
            });
        });
    </script>
</body>
</html>
